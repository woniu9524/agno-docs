# æ‰‹åŠ¨çŸ¥è¯†è¿‡æ»¤å™¨

æ‰‹åŠ¨è¿‡æ»¤é€šè¿‡åœ¨ä»£ç ä¸­ç›´æ¥æŒ‡å®šè¿‡æ»¤å™¨ï¼Œè®©æ‚¨å¯ä»¥å®Œå…¨æ§åˆ¶è¦æœç´¢çš„æ–‡æ¡£ã€‚

## æ­¥éª¤ 1ï¼šé™„åŠ å…ƒæ•°æ®

æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥ä¸ºæ–‡æ¡£é™„åŠ å…ƒæ•°æ®ï¼š

1. **åˆå§‹åŒ–çŸ¥è¯†åº“æ—¶é™„åŠ å…ƒæ•°æ®**

    ```python
    knowledge_base = PDFKnowledgeBase(
        path=[
            {
                "path": "path/to/cv1.pdf",
                "metadata": {
                    "user_id": "jordan_mitchell",
                    "document_type": "cv",
                    "year": 2025,
                },
            },
            # ... æ›´å¤šæ–‡æ¡£ ...
        ],
        vector_db=vector_db,
    )
    knowledge_base.load(recreate=True)
    ```

2. **é€ä¸ªåŠ è½½æ–‡æ¡£æ—¶é™„åŠ å…ƒæ•°æ®**

    ```python
    # åˆå§‹åŒ– PDFKnowledgeBase
    knowledge_base = PDFKnowledgeBase(
        vector_db=vector_db,
        num_documents=5,
    )

    # åŠ è½½å¸¦æœ‰ user_1 å…ƒæ•°æ®çš„ç¬¬ä¸€ä¸ªæ–‡æ¡£
    knowledge_base.load_document(
        path=path/to/cv1.pdf,
        metadata={"user_id": "jordan_mitchell", "document_type": "cv", "year": 2025},
        recreate=True,  # ä»…åœ¨é¦–æ¬¡è¿è¡Œæ—¶è®¾ç½®ä¸º Trueï¼Œä¹‹åè®¾ç½®ä¸º False
    )

    # åŠ è½½å¸¦æœ‰ user_2 å…ƒæ•°æ®çš„ç¬¬äºŒä¸ªæ–‡æ¡£
    knowledge_base.load_document(
        path=path/to/cv2.pdf,
        metadata={"user_id": "taylor_brooks", "document_type": "cv", "year": 2025},
    )
    ```

---

> ğŸ’¡ **æç¤ºï¼š**
> â€¢ å¦‚æœæ‚¨ä¸€æ¬¡æ€§å‡†å¤‡å¥½äº†æ‰€æœ‰æ–‡æ¡£å’Œå…ƒæ•°æ®ï¼Œè¯·ä½¿ç”¨**é€‰é¡¹ 1**ã€‚
> â€¢ å¦‚æœæ‚¨æƒ³é€æ­¥æ·»åŠ æ–‡æ¡£æˆ–åœ¨æ–‡æ¡£å¯ç”¨æ—¶æ·»åŠ ï¼Œè¯·ä½¿ç”¨**é€‰é¡¹ 2**ã€‚

## æ­¥éª¤ 2ï¼šä½¿ç”¨è¿‡æ»¤å™¨æŸ¥è¯¢

æ‚¨å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼ä¼ é€’è¿‡æ»¤å™¨ï¼š

### 1. åœ¨ Agent ä¸Šè®¾ç½®ï¼ˆé€‚ç”¨äºæ‰€æœ‰æŸ¥è¯¢ï¼‰

```python
agent = Agent(
    knowledge=knowledge_base,
    search_knowledge=True,
    knowledge_filters={"user_id": "jordan_mitchell"},
)
agent.print_response(
    "è®²è®² Jordan Mitchell çš„ç»éªŒå’ŒæŠ€èƒ½",
    markdown=True,
)
```

### 2. åœ¨æ¯æ¬¡æŸ¥è¯¢æ—¶è®¾ç½®ï¼ˆä¼šè¦†ç›–è¯¥æ¬¡è¿è¡Œçš„ Agent è¿‡æ»¤å™¨ï¼‰

```python
agent = Agent(
    knowledge=knowledge_base,
    search_knowledge=True,
)
agent.print_response(
    "è®²è®² Jordan Mitchell çš„ç»éªŒå’ŒæŠ€èƒ½",
    knowledge_filters={"user_id": "jordan_mitchell"},
    markdown=True,
)
```

<Note>å¦‚æœæ‚¨åŒæ—¶åœ¨ Agent å’ŒæŸ¥è¯¢ä¸Šéƒ½è®¾ç½®äº†è¿‡æ»¤å™¨ï¼Œé‚£ä¹ˆæŸ¥è¯¢çº§åˆ«çš„è¿‡æ»¤å™¨å°†å…·æœ‰ä¼˜å…ˆæƒã€‚</Note>

## ç»„åˆå¤šä¸ªè¿‡æ»¤å™¨

æ‚¨å¯ä»¥æŒ‰å¤šä¸ªå­—æ®µè¿›è¡Œè¿‡æ»¤ï¼š

```python
agent = Agent(
    knowledge=knowledge_base,
    search_knowledge=True,
    knowledge_filters={
        "user_id": "jordan_mitchell",
        "document_type": "cv",
        "year": 2025,
    }
)
agent.print_response(
    "è®²è®² Jordan Mitchell çš„ç»éªŒå’ŒæŠ€èƒ½",
    markdown=True,
)
```

## è‡ªå·±åŠ¨æ‰‹è¯•è¯•ï¼

- ä½¿ç”¨ä¸åŒçš„å…ƒæ•°æ®åŠ è½½æ–‡æ¡£ã€‚
- ä½¿ç”¨ä¸åŒçš„è¿‡æ»¤å™¨ç»„åˆè¿›è¡ŒæŸ¥è¯¢ã€‚
- è§‚å¯Ÿç»“æœå¦‚ä½•å˜åŒ–ï¼

---

## å¼€å‘è€…èµ„æº
- [æ‰‹åŠ¨è¿‡æ»¤](https://github.com/agno-agi/agno/blob/main/cookbook/agent_concepts/knowledge/filters/pdf/filtering.py)
- [åŠ è½½æ—¶æ‰‹åŠ¨è¿‡æ»¤](https://github.com/agno-agi/agno/blob/main/cookbook/agent_concepts/knowledge/filters/pdf/filtering_on_load.py)