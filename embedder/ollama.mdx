---
title: Ollama Embedder
sidebarTitle: Ollama
---

`OllamaEmbedder` 可用于使用 Ollama 在本地将文本数据嵌入向量。

<Note>用于生成嵌入的模型需要本地运行。在本例中是 `openhermes`，因此您必须[安装 `ollama`](https://ollama.com/download) 并在终端中运行 `ollama pull openhermes`。</Note>

## 用法

```python cookbook/embedders/ollama_embedder.py
from agno.agent import AgentKnowledge
from agno.vectordb.pgvector import PgVector
from agno.embedder.ollama import OllamaEmbedder

# 将句子嵌入数据库
embeddings = OllamaEmbedder(id="openhermes").get_embedding("The quick brown fox jumps over the lazy dog.")

# 打印嵌入及其维度
print(f"Embeddings: {embeddings[:5]}")
print(f"Dimensions: {len(embeddings)}")

# 在知识库中使用 embedder
knowledge_base = AgentKnowledge(
    vector_db=PgVector(
        db_url="postgresql+psycopg://ai:ai@localhost:5532/ai",
        table_name="ollama_embeddings",
        embedder=OllamaEmbedder(),
    ),
    num_documents=2,
)
```

## 参数

| 参数       | 类型                       | 默认值     | 描述                                                                 |
| ------------ | -------------------------- | -------- | -------------------------------------------------------------------- |
| `model`      | `str`                      | `"openhermes"` | 用于生成嵌入的模型名称。                                             |
| `dimensions` | `int`                      | `4096`     | 模型生成的嵌入的维度。                                               |
| `host`       | `str`                      | -        | API 端点的宿主地址。                                                 |
| `timeout`    | `Any`                      | -        | API 请求的超时时长。                                                 |
| `options`    | `Any`                      | -        | 用于配置 API 请求的附加选项。                                        |
| `client_kwargs` | `Optional[Dict[str, Any]]` | -        | 用于配置 API 客户端的附加关键字参数。可选。                              |
| `ollama_client` | `Optional[OllamaClient]`   | -        | 用于发起 API 请求的 `OllamaClient` 实例。可选。                               |

## 开发者资源
- 查看 [Cookbook](https://github.com/agno-agi/agno/blob/main/cookbook/agent_concepts/knowledge/embedders/ollama_embedder.py)