---
title: TeamRunResponse
sidebarTitle: Team Run Response & Events
---

`TeamRunResponse` 类代表团队运行的响应，同时包含团队的整体响应和各个成员的响应。它支持流式传输，并在团队执行过程中提供实时事件。

## TeamRunResponse 属性

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `content` | `Any` | `None` | 响应内容 |
| `content_type` | `str` | `"str"` | 指定内容的的数据类型 |
| `thinking` | `str` | `None` | 模型产生的任何思考内容 (供 Anthropic 模型使用) |
| `messages` | `List[Message]` | `None` | 响应中包含的消息列表 |
| `metrics` | `Dict[str, Any]` | `None` | 运行的使用指标 |
| `model` | `str` | `None` | 运行中使用的模型 |
| `model_provider` | `str` | `None` | 运行中使用的模型提供商 |
| `member_responses` | `List[Union[TeamRunResponse, RunResponse]]` | `[]` | 来自单个团队成员的响应 |
| `run_id` | `str` | `None` | 运行 ID |
| `team_id` | `str` | `None` | 运行的团队 ID |
| `session_id` | `str` | `None` | 运行的会话 ID |
| `tools` | `List[Dict[str, Any]]` | `None` | 提供给模型的工具列表 |
| `images` | `List[Image]` | `None` | 来自成员运行的图像列表 |
| `videos` | `List[Video]` | `None` | 来自成员运行的视频列表 |
| `audio` | `List[Audio]` | `None` | 来自成员运行的音频片段列表 |
| `response_audio` | `ModelResponseAudio` | `None` | 模型原始音频响应 |
| `reasoning_content` | `str` | `None` | 模型产生的任何推理内容 |
| `citations` | `Citations` | `None` | 响应中使用的任何引用 |
| `created_at` | `int` | 当前时间戳 | 响应创建的 Unix 时间戳 |
| `extra_data` | `RunResponseExtraData` | `None` | 包含可选字段（如 `references`、`add_messages`、`history`、`reasoning_steps` 和 `reasoning_messages`）的额外数据 |

## TeamRunResponse 事件类型

以下事件由 `Team.run()` 函数根据团队的配置发送：

### 核心事件

| 事件类型 | 描述 |
|---|---|
| `TeamRunStarted` | 表明团队运行已开始 |
| `TeamRunResponseContent` | 包含模型响应文本的各个块 |
| `TeamRunCompleted` | 信号团队运行已成功完成 |
| `TeamRunError` | 表明团队运行过程中发生错误 |
| `TeamRunCancelled` | 信号团队运行已被取消 |

### 工具事件

| 事件类型 | 描述 |
|---|---|
| `TeamToolCallStarted` | 表明工具调用已开始 |
| `TeamToolCallCompleted` | 信号工具调用已完成，包括工具调用结果 |

### 推理事件

| 事件类型 | 描述 |
|---|---|
| `TeamReasoningStarted` | 表明团队的推理过程已开始 |
| `TeamReasoningStep` | 包含推理过程中的单个步骤 |
| `TeamReasoningCompleted` | 信号推理过程已完成 |

### 记忆事件

| 事件类型 | 描述 |
|---|---|
| `TeamMemoryUpdateStarted` | 表明团队正在更新其记忆 |
| `TeamMemoryUpdateCompleted` | 信号记忆更新已完成 |

## 事件属性

### BaseTeamRunResponseEvent

所有事件都继承自 `BaseTeamRunResponseEvent`，它提供了以下通用属性：

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `created_at` | `int` | 当前时间戳 | 事件创建的 Unix 时间戳 |
| `event` | `str` | 事件类型值 | 事件的类型 |
| `team_id` | `str` | `""` | 生成事件的团队 ID |
| `run_id` | `Optional[str]` | `None` | 当前运行的 ID |
| `session_id` | `Optional[str]` | `None` | 当前会话的 ID |
| `content` | `Optional[Any]` | `None` | 为了向后兼容 |

### RunResponseStartedEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamRunStarted"` | 事件类型 |
| `model` | `str` | `""` | 正在使用的模型 |
| `model_provider` | `str` | `""` | 模型提供商 |

### RunResponseContentEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamRunResponseContent"` | 事件类型 |
| `content` | `Optional[Any]` | `None` | 响应内容 |
| `content_type` | `str` | `"str"` | 内容的类型 |
| `thinking` | `Optional[str]` | `None` | 模型的内部思考 |
| `citations` | `Optional[Citations]` | `None` | 响应中使用的引用 |
| `response_audio` | `Optional[AudioResponse]` | `None` | 模型的音频响应 |
| `image` | `Optional[ImageArtifact]` | `None` | 响应中附加的图像 |
| `extra_data` | `Optional[RunResponseExtraData]` | `None` | 附加的响应数据 |

### RunResponseCompletedEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamRunCompleted"` | 事件类型 |
| `content` | `Optional[Any]` | `None` | 响应的最终内容 |
| `content_type` | `str` | `"str"` | 内容的类型 |
| `reasoning_content` | `Optional[str]` | `None` | 产生的推理内容 |
| `thinking` | `Optional[str]` | `None` | 模型的内部思考 |
| `citations` | `Optional[Citations]` | `None` | 响应中使用的引用 |
| `images` | `Optional[List[ImageArtifact]]` | `None` | 响应中附加的图像 |
| `videos` | `Optional[List[VideoArtifact]]` | `None` | 响应中附加的视频 |
| `audio` | `Optional[List[AudioArtifact]]` | `None` | 响应中附加的音频片段 |
| `response_audio` | `Optional[AudioResponse]` | `None` | 模型的音频响应 |
| `extra_data` | `Optional[RunResponseExtraData]` | `None` | 附加的响应数据 |
| `member_responses` | `List[Union[TeamRunResponse, RunResponse]]` | `[]` | 来自单个团队成员的响应 |

### RunResponseErrorEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamRunError"` | 事件类型 |
| `content` | `Optional[Any]` | `None` | 错误消息 |

### RunResponseCancelledEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamRunCancelled"` | 事件类型 |
| `reason` | `Optional[str]` | `None` | 取消原因 |


### ToolCallStartedEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamToolCallStarted"` | 事件类型 |
| `tool` | `Optional[ToolExecution]` | `None` | 正在调用的工具 |

### ToolCallCompletedEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamToolCallCompleted"` | 事件类型 |
| `tool` | `Optional[ToolExecution]` | `None` | 已调用的工具 |
| `content` | `Optional[Any]` | `None` | 工具调用的结果 |
| `images` | `Optional[List[ImageArtifact]]` | `None` | 工具生成的图像 |
| `videos` | `Optional[List[VideoArtifact]]` | `None` | 工具生成的视频 |
| `audio` | `Optional[List[AudioArtifact]]` | `None` | 工具生成的音频 |

### ReasoningStartedEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamReasoningStarted"` | 事件类型 |


### ReasoningStepEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamReasoningStep"` | 事件类型 |
| `content` | `Optional[Any]` | `None` | 推理步骤内容 |
| `content_type` | `str` | `"str"` | 内容的类型 |
| `reasoning_content` | `str` | `""` | 详细的推理内容 |

### ReasoningCompletedEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamReasoningCompleted"` | 事件类型 |
| `content` | `Optional[Any]` | `None` | 推理步骤内容 |
| `content_type` | `str` | `"str"` | 内容的类型 |

### MemoryUpdateStartedEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamMemoryUpdateStarted"` | 事件类型 |

### MemoryUpdateCompletedEvent

| 属性名 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `event` | `str` | `"TeamMemoryUpdateCompleted"` | 事件类型 |