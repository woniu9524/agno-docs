---
title: 使用工具时代理实例化的性能分析
description: 该示例展示了如何分析使用工具的代理的运行时和内存使用情况。
---

## 代码

```python
"""运行 `pip install agno openai memory_profiler` 来安装依赖。"""

from typing import Literal

from agno.agent import Agent
from agno.eval.performance import PerformanceEval
from agno.models.openai import OpenAIChat


def get_weather(city: Literal["nyc", "sf"]):
    """使用此函数获取天气信息。"""
    if city == "nyc":
        return "It might be cloudy in nyc"
    elif city == "sf":
        return "It's always sunny in sf"
    else:
        raise AssertionError("Unknown city")


tools = [get_weather]


def instantiate_agent():
    return Agent(model=OpenAIChat(id="gpt-4o"), tools=tools)


instantiation_perf = PerformanceEval(func=instantiate_agent, num_iterations=1000)

if __name__ == "__main__":
    instantiation_perf.run(print_results=True, print_summary=True)
```