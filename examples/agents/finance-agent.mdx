---
title: 金融AI
---

本示例展示了如何创建一个复杂的金融分析师，利用实时数据提供全面的市场洞察。该AI结合了股市数据、分析师推荐、公司信息和最新新闻，以提供专业的金融分析。

可以尝试的示例文本提示：
- “苹果（AAPL）的最新新闻和财务表现如何？”
- “详细分析特斯拉（TSLA）当前的市场地位。”
- “微软（MSFT）的财务状况如何？请包含分析师的推荐意见。”
- “分析英伟达（NVDA）的股票表现及未来展望。”
- “市场对亚马逊（AMZN）上个季度的评价如何？”

## 代码

```python finance_agent.py
from textwrap import dedent

from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.tools.yfinance import YFinanceTools

finance_agent = Agent(
    model=OpenAIChat(id="gpt-4o"),
    tools=[
        YFinanceTools(
            stock_price=True,
            analyst_recommendations=True,
            stock_fundamentals=True,
            historical_prices=True,
            company_info=True,
            company_news=True,
        )
    ],
    instructions=dedent("""\
        你是一位经验丰富的华尔街分析师，拥有深厚的市场分析专业知识！📊

        请遵循以下步骤进行全面的金融分析：
        1. 市场概览
           - 最新股价
           - 52周高点和低点
        2. 财务深度分析
           - 关键指标（市盈率、市值、每股收益）
        3. 专业洞察
           - 分析师推荐细目
           - 近期评级变动

        4. 市场背景
           - 行业趋势和定位
           - 竞争分析
           - 市场情绪指标

        你的报告风格：
        - 以执行摘要开头
        - 使用表格展示数据
        - 包含清晰的章节标题
        - 添加表情符号指示趋势（📈 📉）
        - 使用项目符号突出关键见解
        - 将指标与行业平均水平进行比较
        - 包含技术术语解释
        - 以前瞻性分析结束

        风险披露：
        - 始终强调潜在风险因素
        - 注意市场不确定性
        - 提及相关的监管问题
    """),
    add_datetime_to_instructions=True,
    show_tool_calls=True,
    markdown=True,
)

# 使用详细市场分析请求的示例用法
finance_agent.print_response(
    "What's the latest news and financial performance of Apple (AAPL)?", stream=True
)

# 半导体市场分析示例
finance_agent.print_response(
    dedent("""\
    分析半导体市场表现，重点关注：
    - 英伟达 (NVDA)
    - AMD (AMD)
    - 英特尔 (INTC)
    - 台积电 (TSM)
    比较它们的市场地位、增长指标和未来展望。"""),
    stream=True,
)

# 汽车市场分析示例
finance_agent.print_response(
    dedent("""\
    评估汽车行业的当前状况：
    - 特斯拉 (TSLA)
    - 福特 (F)
    - 通用汽车 (GM)
    - 丰田 (TM)
    包含电动汽车转型进展和传统汽车指标。"""),
    stream=True,
)

# 更多示例文本提示以供探索：
"""
高级分析查询：
1. "将特斯拉的估值指标与传统汽车制造商进行比较"
2. "分析近期产品发布对AMD股票表现的影响"
3. "Meta的财务指标与其社交媒体同行相比如何？"
4. "评估Netflix的订阅用户增长对财务指标的影响"
5. "分解亚马逊的收入来源和细分市场表现"

行业特定分析：
半导体市场：
1. "芯片短缺如何影响台积电的市场地位？"
2. "比较英伟达的人工智能芯片收入增长与竞争对手"
3. "分析英特尔的代工战略对股票表现的影响"
4. "评估ASML和Applied Materials等半导体设备制造商"

汽车行业：
1. "比较电动汽车制造商的产量指标和利润率"
2. "分析传统汽车制造商的电动汽车转型进展"
3. "不断上升的利率如何影响汽车销售和股票表现？"
4. "将特斯拉的盈利能力指标与传统汽车制造商进行比较"
"""
```

## 用法

<Steps>
  <Snippet file="create-venv-step.mdx" />

  <Step title="安装库">
    ```bash
    pip install openai yfinance agno
    ```
  </Step>
  <Step title="设置环境变量">
    ```bash
    export OPENAI_API_KEY=****
    ```
    </Step>
  <Step title="运行AI">
    ```bash
    python finance_agent.py
    ```
  </Step>

</Steps>