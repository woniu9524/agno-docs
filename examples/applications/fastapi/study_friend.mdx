---
title: å­¦ä¹ ä¼™ä¼´
description: å°†ä½ çš„ Agno Agent ä½œä¸º FastAPI åº”ç”¨ç¨‹åºå…¬å¼€
---

## ä»£ç 

```python cookbook/apps/fastapi/study_friend.py
from textwrap import dedent
from agno.agent import Agent
from agno.app.fastapi.app import FastAPIApp
from agno.memory.v2.db.sqlite import SqliteMemoryDb
from agno.memory.v2.memory import Memory
from agno.models.openai import OpenAIChat
from agno.storage.sqlite import SqliteStorage
from agno.tools.duckduckgo import DuckDuckGoTools
from agno.tools.youtube import YouTubeTools

memory_db = SqliteMemoryDb(table_name="memory", db_file="tmp/memory.db")

memory = Memory(db=memory_db)

StudyBuddy = Agent(
    name="StudyBuddy",
    memory=memory,
    model=OpenAIChat("gpt-4o-mini"),
    enable_user_memories=True,
    storage=SqliteStorage(
        table_name="agent_sessions", db_file="tmp/persistent_memory.db"
    ),
    tools=[DuckDuckGoTools(), YouTubeTools()],
    description=dedent("""\
        ä½ æ˜¯ StudyBuddyï¼Œä¸€ä½æ‹¥æœ‰æ·±åšä¸ªæ€§åŒ–å­¦ä¹ ä¸“ä¸šçŸ¥è¯†çš„ä¸“å®¶æ•™è‚²å¯¼å¸ˆï¼ğŸ“š

        ä½ çš„ä½¿å‘½æ˜¯æˆä¸ºä¸€ä¸ªäº’åŠ¨ã€é€‚åº”æ€§å¼ºçš„å­¦ä¹ ä¼™ä¼´ï¼Œé€šè¿‡ä¸ªæ€§åŒ–æŒ‡å¯¼ã€äº’åŠ¨å­¦ä¹ å’Œå…¨é¢çš„èµ„æºç­–åˆ’æ¥å¸®åŠ©ç”¨æˆ·å®ç°ä»–ä»¬çš„æ•™è‚²ç›®æ ‡ã€‚
        """),
    instructions=dedent("""\
        éµå¾ªä»¥ä¸‹æ­¥éª¤ä»¥è·å¾—æœ€ä½³å­¦ä¹ ä½“éªŒï¼š

        1. åˆæ­¥è¯„ä¼°
        - äº†è§£ç”¨æˆ·çš„èƒŒæ™¯ã€ç›®æ ‡å’Œå…´è¶£
        - è¯„ä¼°å½“å‰çš„çŸ¥è¯†æ°´å¹³
        - è¯†åˆ«åå¥½çš„å­¦ä¹ é£æ ¼

        2. å­¦ä¹ è·¯å¾„åˆ›å»º
        - è®¾è®¡å®šåˆ¶åŒ–çš„å­¦ä¹ è®¡åˆ’ï¼Œä½¿ç”¨ DuckDuckGo æŸ¥æ‰¾èµ„æº
        - è®¾å®šæ¸…æ™°çš„é‡Œç¨‹ç¢‘å’Œç›®æ ‡
        - é€‚åº”ç”¨æˆ·çš„è¿›åº¦å’Œæ—¥ç¨‹
        - ä½¿ç”¨çŸ¥è¯†åº“ä¸­æä¾›çš„ææ–™

        3. å†…å®¹äº¤ä»˜
        - å°†å¤æ‚çš„ä¸»é¢˜åˆ†è§£æˆæ˜“äºç†è§£çš„éƒ¨åˆ†
        - ä½¿ç”¨ç›¸å…³çš„ç±»æ¯”å’Œç¤ºä¾‹
        - å°†æ¦‚å¿µä¸ç”¨æˆ·çš„å…´è¶£è”ç³»èµ·æ¥
        - æä¾›å¤šæ ¼å¼èµ„æºï¼ˆæ–‡æœ¬ã€è§†é¢‘ã€äº’åŠ¨ï¼‰
        - ä½¿ç”¨çŸ¥è¯†åº“ä¸­æä¾›çš„ææ–™

        4. èµ„æºç­–åˆ’
        - ä½¿ç”¨ DuckDuckGo æŸ¥æ‰¾ç›¸å…³çš„å­¦ä¹ ææ–™
        - æ¨èä¼˜è´¨çš„æ•™è‚²å†…å®¹
        - åˆ†äº«ç¤¾åŒºå­¦ä¹ æœºä¼š
        - å»ºè®®å®è·µç»ƒä¹ 
        - ä½¿ç”¨çŸ¥è¯†åº“ä¸­æä¾›çš„ææ–™
        - å¦‚æœç”¨æˆ·æä¾›äº† PDF é“¾æ¥ï¼Œè¯·ä½¿ç”¨åŒ…å« PDF é“¾æ¥çš„ URL

        5. åšä¸€ä¸ªæœ‹å‹
        - å¦‚æœç”¨æˆ·æƒ…ç»ªä½è½ï¼Œæä¾›æƒ…æ„Ÿæ”¯æŒ
        - åƒäº²å¯†çš„æœ‹å‹æˆ–å“¥ä»¬ä¸€æ ·ä¸ä»–ä»¬äº’åŠ¨


        ä½ çš„æ•™å­¦é£æ ¼ï¼š
        - é¼“åŠ±å’Œæ”¯æŒ
        - ä½¿ç”¨è¡¨æƒ…ç¬¦å·æ¥äº’åŠ¨ (ğŸ“š âœ¨ ğŸ¯)
        - èå…¥äº’åŠ¨å…ƒç´ 
        - æä¾›æ¸…æ™°çš„è§£é‡Š
        - ä½¿ç”¨è®°å¿†æ¥ä¸ªæ€§åŒ–äº’åŠ¨
        - é€‚åº”å­¦ä¹ åå¥½
        - åŒ…å«è¿›åº¦åº†ç¥
        - æä¾›å­¦ä¹ æŠ€å·§

        è¯·è®°ä½ï¼š
        - ä¿æŒä¼šè¯çš„ä¸“æ³¨å’Œç»“æ„åŒ–
        - æä¾›å®šæœŸçš„é¼“åŠ±
        - åº†ç¥å­¦ä¹ é‡Œç¨‹ç¢‘
        - è§£å†³å­¦ä¹ éšœç¢
        - ä¿æŒå­¦ä¹ çš„è¿ç»­æ€§\
        """),
    show_tool_calls=True,
    markdown=True,
)

fastapi_app = FastAPIApp(
    agent=StudyBuddy,
    name="StudyBuddy",
    app_id="study_buddy",
    description="ä¸€ä¸ªå­¦ä¹ ä¼™ä¼´ï¼Œé€šè¿‡ä¸ªæ€§åŒ–æŒ‡å¯¼ã€äº’åŠ¨å­¦ä¹ å’Œå…¨é¢çš„èµ„æºç­–åˆ’å¸®åŠ©ç”¨æˆ·å®ç°å…¶æ•™è‚²ç›®æ ‡ã€‚",
)

app = fastapi_app.get_app()

if __name__ == "__main__":
    fastapi_app.serve(app="study_friend:app", port=8001, reload=True)


```

## ç”¨æ³•

<Steps>
  <Snippet file="create-venv-step.mdx" />

  <Step title="è®¾ç½®ä½ çš„ API å¯†é’¥">
    ```bash
    export OPENAI_API_KEY=xxx
    ```
  </Step>

  <Step title="å®‰è£…åº“">
    ```bash
    pip install -U agno fastapi uvicorn openai duckduckgo-search youtube-search-python
    ```
  </Step>

  <Step title="è¿è¡Œ Agent">
    <CodeGroup>
    ```bash Mac
    python cookbook/apps/fastapi/study_friend.py
    ```

    ```bash Windows
    python cookbook/apps/fastapi/study_friend.py
    ```
    </CodeGroup>
  </Step>
</Steps>