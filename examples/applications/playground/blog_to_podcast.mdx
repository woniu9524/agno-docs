---
title: 博客转播客
---

本示例展示了如何在 Playground 中使用博客转播客代理。

## 代码

```python cookbook/apps/playground/blog_to_podcast.py
from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.playground import Playground
from agno.storage.sqlite import SqliteStorage
from agno.tools.eleven_labs import ElevenLabsTools
from agno.tools.firecrawl import FirecrawlTools

agent_storage_file: str = "tmp/agents.db"
image_agent_storage_file: str = "tmp/image_agent.db"


blog_to_podcast_agent = Agent(
    name="Blog to Podcast Agent",
    agent_id="blog_to_podcast_agent",
    model=OpenAIChat(id="gpt-4o"),
    tools=[
        ElevenLabsTools(
            voice_id="JBFqnCBsd6RMkjVDRZzb",
            model_id="eleven_multilingual_v2",
            target_directory="audio_generations",
        ),
        FirecrawlTools(),
    ],
    description="您是一个可以使用 ElevenLabs API 生成音频的 AI 代理。",
    instructions=[
        "当用户提供博客网址时：",
        "1. 使用 FirecrawlTools 抓取博客内容",
        "2. 创建一篇博客内容的简洁摘要，长度不超过 2000 个字符",
        "3. 摘要应捕捉要点，同时具有吸引力和对话性",
        "4. 使用 ElevenLabsTools 将摘要转换为音频",
        "您无需先找到合适的语音，我已经为用户指定了语音",
        "不要在您的响应或 markdown 中返回文件名或文件网址，只需告知音频已成功创建",
        "确保摘要在 2000 个字符限制内，以避免 ElevenLabs API 限制",
    ],
    markdown=True,
    debug_mode=True,
    add_history_to_messages=True,
    storage=SqliteStorage(
        table_name="blog_to_podcast_agent",
        db_file=image_agent_storage_file,
        auto_upgrade_schema=True,
    ),
)

playground = Playground(
    agents=[blog_to_podcast_agent],
    app_id="blog-to-podcast-playground-app",
    name="Blog to Podcast Playground",
    description="A playground for blog to podcast",
)
app = playground.get_app()

if __name__ == "__main__":
    playground.serve(app="blog_to_podcast:app", reload=True)

```

## 用法

<Steps>
  <Snippet file="create-venv-step.mdx" />

  <Step title="设置您的 API 密钥">
    ```bash
    export OPENAI_API_KEY=xxx
    export ELEVEN_LABS_API_KEY=xxx
    export FIRECRAWL_API_KEY=xxx
    ```
  </Step>

  <Step title="安装库">
    ```bash
    pip install -U agno "uvicorn[standard]" openai elevenlabs firecrawl-py
    ```
  </Step>

  <Step title="运行代理">
    <CodeGroup>
    ```bash Mac
    python cookbook/apps/playground/blog_to_podcast.py
    ```

    ```bash Windows
    python cookbook/apps/playground/blog_to_podcast.py
    ```
    </CodeGroup>
  </Step>
</Steps>