---
title: "Pipedream Slack"
description: "æ­¤ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å°† Pipedream MCP æœåŠ¡å™¨ï¼ˆåœ¨æ­¤æ¡ˆä¾‹ä¸­ä¸º Slackï¼‰ä¸ Agno Agents ä¸€èµ·ä½¿ç”¨ã€‚"
---

## Code

```python
"""
ğŸ’¬ Pipedream Slack MCP

æ­¤ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•å°† Pipedream MCP æœåŠ¡å™¨ï¼ˆåœ¨æ­¤æ¡ˆä¾‹ä¸­ä¸º Slackï¼‰ä¸ Agno Agents ä¸€èµ·ä½¿ç”¨ã€‚

1. è¿æ¥æ‚¨çš„ Pipedream å’Œ Slack è´¦æˆ·ï¼šhttps://mcp.pipedream.com/app/slack
2. è·å–æ‚¨çš„ Pipedream MCP æœåŠ¡å™¨ URLï¼šhttps://mcp.pipedream.com/app/slack
3. å°† MCP_SERVER_URL ç¯å¢ƒå˜é‡è®¾ç½®ä¸ºæ‚¨ä¸Šé¢è·å–çš„ MCP æœåŠ¡å™¨ URL
4. å®‰è£…ä¾èµ–ï¼špip install agno mcp-sdk

"""

import asyncio
import os

from agno.agent import Agent
from agno.models.openai import OpenAIChat
from agno.tools.mcp import MCPTools
from agno.utils.log import log_exception

mcp_server_url = os.getenv("MCP_SERVER_URL")


async def run_agent(task: str) -> None:
    try:
        async with MCPTools(
            url=mcp_server_url, transport="sse", timeout_seconds=20
        ) as mcp:
            agent = Agent(
                model=OpenAIChat(id="gpt-4o-mini"),
                tools=[mcp],
                markdown=True,
            )
            await agent.aprint_response(
                message=task,
                stream=True,
            )
    except Exception as e:
        log_exception(f"Unexpected error: {e}")


if __name__ == "__main__":
    # Agent å¯ä»¥è¯»å–é¢‘é“ã€ç”¨æˆ·ã€æ¶ˆæ¯ç­‰ã€‚
    asyncio.run(run_agent("Show me the latest message in the channel #general"))

    # ä½¿ç”¨æ‚¨çš„çœŸå® Slack æ˜µç§°ä»¥ä½¿å…¶æ­£å¸¸å·¥ä½œï¼
    asyncio.run(
        run_agent("Send a message to <YOUR_NAME> saying 'Hello, I'm your Agno Agent!'")
    )
```