## 创建 AWS 资源

使用以下命令创建 AWS 资源：

<CodeGroup>

```bash terminal
ag ws up --env prd --infra aws
```

```bash shorthand
ag ws up prd:aws
```

</CodeGroup>

这将创建：

1. 用于应用程序的 [ECS 集群](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/clusters.html)。
2. 用于在 ECS 集群上运行应用程序的 [ECS 任务定义](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definitions.html) 和 [服务](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs_services.html)。
3. [负载均衡器](https://aws.amazon.com/elasticloadbalancing/)，用于为应用程序路由流量。
4. 控制入站和出站流量的 [安全组](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-security-groups.html)。
5. 用于管理应用程序和数据库密钥的 [Secrets](https://aws.amazon.com/secrets-manager/)。
6. 用于知识库和存储的 [RDS 数据库](https://aws.amazon.com/rds/)。

**按 Enter** 键确认，并等待资源启动。

- RDS 数据库大约需要 5 分钟才能激活。
- 这些资源定义在 `workspace/prd_resources.py` 文件中。
- 使用 [ECS 控制台](https://us-east-1.console.aws.amazon.com/ecs/v2/clusters) 查看服务和日志。
- 使用 [RDS 控制台](https://us-east-1.console.aws.amazon.com/rds/home?#databases:) 查看数据库实例。