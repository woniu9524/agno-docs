---
title: 什么是 Agent？
description: Agent 是能够通过采取行动来完成复杂任务的智能程序。使用它们可以自动化可重复的工作流程并构建新用户体验。
sidebarTitle: 简介
---

## Agno Agent

- 使用语言模型进行推理和规划。
- 使用工具采取行动并与外部系统进行交互。
- 将内存和状态存储在数据库中，记住聊天记录、用户偏好和对话摘要。
- 将知识存储在向量数据库中，以领域专业知识来补充其训练数据。

![Agent Architecture](/images/agent.png)

## 示例：研究 Agent

我们来创建一个 Agent，它可以通过搜索网络和阅读热门链接来撰写研究报告。我们使用 `description` 和 `instructions` 来**“提示”** Agent。

<Steps>
  <Step title="创建研究 Agent">
    创建一个文件 `research_agent.py`

    ```python research_agent.py
    from agno.agent import Agent
    from agno.models.openai import OpenAIChat
    from agno.tools.duckduckgo import DuckDuckGoTools
    from agno.tools.newspaper4k import Newspaper4kTools

    agent = Agent(
        model=OpenAIChat(id="gpt-4o"),
        tools=[DuckDuckGoTools(), Newspaper4kTools()],
        description="You are a senior NYT researcher writing an article on a topic.",
        instructions=[
            "For a given topic, search for the top 5 links.",
            "Then read each URL and extract the article text, if a URL isn't available, ignore it.",
            "Analyse and prepare an NYT worthy article based on the information.",
        ],
        markdown=True,
        show_tool_calls=True,
        add_datetime_to_instructions=True,
        # debug_mode=True,
    )
    agent.print_response("Simulation theory", stream=True)
    ```

  </Step>
  <Step title="运行 Agent">
    安装库

    ```shell
    pip install agno openai duckduckgo-search newspaper4k lxml_html_clean
    ```

    运行 Agent

    ```shell
    python research_agent.py
    ```

  </Step>
</Steps>

<Note>
在底层，description 和 instructions 会被转换为系统提示，并将 input 作为用户提示传递。

使用 `debug_mode=True` 可以查看 Agent 使用的原始消息。

</Note>

## 将 Agent 的响应作为变量返回

使用 `Agent.run()` 函数将响应捕获为变量。

```python
from agno.agent import Agent, RunResponse
from agno.utils.pprint import pprint_run_response

agent = Agent(...)

# 运行 agent 并将响应作为变量返回
response: RunResponse = agent.run("Simulation theory")
# 以 markdown 格式打印响应
pprint_run_response(response, markdown=True)
```

默认情况下 `stream=False`，设置为 `stream=True` 以返回流。

```python
from typing import Iterator

# 运行 agent 并将响应作为流返回
response_stream: Iterator[RunResponse] = agent.run("Simulation theory", stream=True)
# 以 markdown 格式打印响应流
pprint_run_response(response_stream, markdown=True, show_time=True)
```

## RunResponse

`Agent.run()` 函数在 `stream=True` 时返回一个 `RunResponse` 对象或一系列 `RunResponse` 对象。

### 属性

<ResponseField name="content" type="Any" default="None">
  响应内容。
</ResponseField>
<ResponseField name="content_type" type="str" default="str">
  指定内容的*数据类型*。
</ResponseField>
<ResponseField name="context" type="List[MessageContext]" default="None">
  为 RAG 添加到响应中的上下文。
</ResponseField>
<ResponseField name="event" type="str" default="RunEvent.run_response.value">
  响应的事件类型。
</ResponseField>
<ResponseField name="event_data" type="Dict[str, Any]" default="None">
  与事件关联的数据。
</ResponseField>
<ResponseField name="messages" type="List[Message]" default="None">
  包含在响应中的消息列表。
</ResponseField>
<ResponseField name="metrics" type="Dict[str, Any]" default="None">
  运行的使用指标。
</ResponseField>
<ResponseField name="model" type="str" default="None">
  运行中使用的模型。
</ResponseField>
<ResponseField name="run_id" type="str" default="None">
  运行 ID。
</ResponseField>
<ResponseField name="agent_id" type="str" default="None">
  运行的 Agent ID。
</ResponseField>
<ResponseField name="session_id" type="str" default="None">
  运行的会话 ID。
</ResponseField>
<ResponseField name="tools" type="List[Dict[str, Any]]" default="None">
  提供给模型的工具列表。
</ResponseField>
<ResponseField name="created_at" type="int">
  响应创建的 Unix 时间戳。
</ResponseField>