### 参数

| 参数 | 类型 | 默认值 | 描述 |
|-----------|------|-------------|---------|
| `runs` | `List[TeamRun]` | `[]` | 团队对话运行列表 |
| `messages` | `List[Message]` | `[]` | 发送给模型的消息列表 |
| `update_system_message_on_change` | `bool` | `True` | 更改时是否更新系统消息 |
| `team_context` | `Optional[TeamContext]` | `None` | 团队成员共享的上下文 |
| `create_user_memories` | `bool` | `False` | 是否为用户创建个性化记忆 |
| `update_user_memories_after_run` | `bool` | `True` | 每次运行后是否更新记忆 |
| `db` | `Optional[MemoryDb]` | `None` | 用于存储个性化记忆的数据库 |
| `user_id` | `Optional[str]` | `None` | 个性化记忆的用户标识符 |
| `retrieval` | `MemoryRetrieval` | `MemoryRetrieval.last_n` | 记忆检索策略 |
| `memories` | `Optional[List[Memory]]` | `None` | 已检索记忆的列表 |
| `classifier` | `Optional[MemoryClassifier]` | `None` | 记忆重要性分类器 |
| `manager` | `Optional[MemoryManager]` | `None` | 记忆操作管理器 |
| `num_memories` | `Optional[int]` | `None` | 要检索的记忆数量 |

### TeamRun

| 参数 | 类型 | 默认值 | 描述 |
|-----------|------|-------------|---------|
| `message` | `Optional[Message]` | `None` | 与团队运行相关的消息 |
| `member_runs` | `Optional[List[AgentRun]]` | `None` | 成员代理运行列表 |
| `response` | `Optional[TeamRunResponse]` | `None` | 团队运行期间生成的响应 |

### TeamContext

| 参数 | 类型 | 默认值 | 描述 |
|-----------|------|-------------|---------|
| `member_interactions` | `List[TeamMemberInteraction]` | `[]` | 团队成员之间交互的列表 |
| `text` | `Optional[str]` | `None` | 团队的共享文本上下文 |

### TeamMemberInteraction

| 参数 | 类型 | 描述 |
|-----------|------|-------------|
| `member_name` | `str` | 团队成员的姓名 |
| `task` | `str` | 分配给团队成员的任务 |
| `response` | `RunResponse` | 来自团队成员的响应 |

### 记忆检索

| 参数 | 类型 | 描述 |
|-----------|------|-------------|
| `last_n` | `str` | 从历史记录中检索最后 N 条记忆 |
| `first_n` | `str` | 从历史记录中检索前 N 条记忆 |
| `semantic` | `str` | 根据语义相似性检索记忆 |

### Memory

| 参数 | 类型 | 描述 | 默认值 |
|-----------|------|-------------|---------|
| `memory` | `str` | 实际记忆内容 | 必需 |
| `id` | `Optional[str]` | 记忆的唯一标识符 | `None` |
| `topic` | `Optional[str]` | 记忆的主题或类别 | `None` |
| `input` | `Optional[str]` | 生成记忆的原始输入 | `None` |

### Memory Classifier

| 参数 | 类型 | 描述 | 默认值 |
|-----------|------|-------------|---------|
| `model` | `Optional[Model]` | 用于分类记忆的模型 | `None` |
| `system_message` | `Optional[str]` | 分类器的自定义系统提示 | `None` |
| `existing_memories` | `Optional[List[Memory]]` | 用于检查的现有记忆列表 | `None` |

### Memory Manager

| 参数 | 类型 | 描述 | 默认值 |
|-----------|------|-------------|---------|
| `model` | `Optional[Model]` | 用于管理记忆的模型 | `None` |
| `user_id` | `Optional[str]` | 用户的唯一标识符 | `None` |
| `system_message` | `Optional[str]` | 记忆管理器的自定义系统提示 | `None` |
| `db` | `Optional[MemoryDb]` | 用于存储记忆的数据库 | `None` |
| `input_message` | `Optional[str]` | 当前正在处理的输入消息 | `None` |