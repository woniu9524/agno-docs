| 参数 | 类型 | 默认值 | 描述 |
|---|---|---|---|
| `table_name` | `str` | 必需 | 用于存储向量和元数据的表名 |
| `schema` | `str` | `"ai"` | 数据库 schema 名称 |
| `db_url` | `Optional[str]` | `None` | 数据库连接 URL |
| `db_engine` | `Optional[Engine]` | `None` | SQLAlchemy 数据库引擎 |
| `embedder` | `Optional[Embedder]` | `OpenAIEmbedder()` | 用于生成 embedding 的 embedder 实例 |
| `search_type` | `SearchType` | `SearchType.vector` | 要执行的搜索类型（vector、keyword 或 hybrid） |
| `vector_index` | `Union[Ivfflat, HNSW]` | `HNSW()` | 向量索引配置 |
| `distance` | `Distance` | `Distance.cosine` | 向量比较的距离度量 |
| `prefix_match` | `bool` | `False` | 为全文搜索启用前缀匹配 |
| `vector_score_weight` | `float` | `0.5` | hybrid 搜索中向量相似度的权重 |
| `content_language` | `str` | `"english"` | 全文搜索的语言 |
| `schema_version` | `int` | `1` | 数据库 schema 版本 |
| `auto_upgrade_schema` | `bool` | `False` | 如果为 True，则自动升级 schema |
| `reranker` | `Optional[Reranker]` | `None` | 用于后处理搜索结果的 reranker 实例 |